<!DOCTYPE html>
<html lang="es">
<head th:replace="fragments/head" />
<body>
	<!-- Barra de Navegaciï¿½n superior -->
	<nav th:replace="fragments/nav" />
	<div class="container">
		<h2>Incidencias</h2>
		<p>Mis incidencias:</p>
		<span th:text="${errorMsg}" style="color: red"></span>
		<div class="table-responsive">
			<table class="table table-hover" th:fragment="tableIncidencias"
				id="tableIncidencias">
				<thead>
					<tr>
						<th>Estado incidencia</th>
						<th>Agente</th> 
						<th>Nombre incidencia</th>
						<th>Descripcion incidencia</th>
						<th>Localizacion incidencia</th>						
						 <th>Etiquetas incidencia</th>
						<th class="col-md-1"></th>
						<th class="col-md-1"></th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="incidencia : ${incidenciasList}">
						<td th:text="${incidencia.status}">Estado de la incidencia</td>
						<td th:text="${incidencia.agent.nombre}">Nombre del agente</td>
						<td><span th:if="${incidencia.isPeligrosa()}"
							style="color: red">*</span> <a
							th:text="${incidencia.incidenceName}"
							th:href="@{/incidencias/locationOf/{id}(id=${incidencia.id})}">Nombre
								de la incidencia</a></td>
								
						<td th:text="${incidencia.description}">Descripcion de la incidencia</td>
						<td th:text="${incidencia.location}">Localizacion de la incidencia</td>
						<td><span th:each="label : ${incidencia.labels}"> <span
								th:text="${label}">Labels incidencia</span>,
						</span></td>
					</tr>
				</tbody>
			</table>
			<script src="/js/updateIncidences.js"></script>
			
		</div>
	</div>
	<p style="text-align: center; color: blue">(*) Las incidencias que
		se encuentran contempladas como peligrosas se ven marcadas con un '*'
		delante del nombre</p>
	<footer th:replace="fragments/footer" />
	
	<script src="/js/actualizarIncidencias.js"></script>
</body>
</html>