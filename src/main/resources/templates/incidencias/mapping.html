<!DOCTYPE html>
<html>
<head th:replace="fragments/head" />
<body>
	<nav th:replace="fragments/nav" />
	<div class="container">
		<h1>Incidencia</h1>
		<p>
			Nombre de la incidencia: <i th:text="${incidencia.incidenceName}"></i>
		</p>
		<p>
			Descripcion: <i th:text="${incidencia.description}"></i>
		</p>
		<p>
			Localizacion: <i th:text="${incidencia.location}"></i>
		</p>
		
		
   		 <div id="map"></div>
   		 
		<script th:inline="javascript">
		/*<![CDATA[*/
			
		function initMap() {
			var cadena=[[${incidencia.location}]].split(",");
			var latitude=cadena[0];
			var longitud=cadena[1];
			
       var map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: latitude, lng: longitud},
          zoom: 6
        });
        var infoWindow = new google.maps.InfoWindow({map: map});
        
        var marker = new google.maps.Marker({
		    position: location,
		    title:[[${incid.incidenceName}]]
		});
        
        marker.setMap(infoWindow);
        
        
      }

     
		/*]]>*/
	</script>

		
  		<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCRXGSkiOeVhjBkV0XKN5pSC8KVzbUhfQo&callback=initMap">
   		 </script>
	</div>
</body>
</html>